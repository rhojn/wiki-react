(this.webpackJsonpwiki=this.webpackJsonpwiki||[]).push([[0],[,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},function(e,t,a){e.exports=a(34)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(11),r=a.n(i),l=(a(22),a(1)),o=a(2),s=a(4),u=a(3),h=a(6),m=a(5),b=(a(23),a(24),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.children;return c.a.createElement("div",{className:"container"},e)}}]),t}(n.Component)),p=(a(25),a(26),a(12)),d=a.n(p),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.mode;return c.a.createElement("header",{className:"header ".concat(e)},c.a.createElement(b,null,c.a.createElement("div",{className:"brand"},c.a.createElement("a",{href:"/"},"Wiki")),c.a.createElement("div",{className:"social"},c.a.createElement("a",{href:"https://github.com/rhojn/wiki-react",rel:"noreferrer noopener",target:"_blank"},c.a.createElement("img",{src:d.a,alt:"Github Mark"})))))}}]),t}(n.Component),f=(a(27),a(28),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.icon;return c.a.createElement("div",{className:"icon-wrapper"},c.a.createElement("span",{className:"".concat(e," icon")}))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={keyword:""},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({keyword:t})}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.state.keyword;t&&this.props.handleSearchSubmit(t)}},{key:"render",value:function(){var e=this.state.keyword;return c.a.createElement("div",{className:"search-box"},c.a.createElement("form",{className:"search-form",onSubmit:this.handleFormSubmit},c.a.createElement("input",{type:"text",name:"search",id:"search",placeholder:"Search the Wikipedia",value:e,onChange:this.handleInputChange}),c.a.createElement("button",{type:"submit"},c.a.createElement(f,{icon:"search"}))))}}]),t}(n.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.quote,n=e.handleSearchSubmit;return c.a.createElement("div",{className:"hero ".concat(t)},c.a.createElement(g,{mode:t}),c.a.createElement(b,null,"initialized"===t?c.a.createElement("div",{className:"hero-brand"},c.a.createElement("a",{href:"/"},"WIKI")):null,c.a.createElement(j,{handleSearchSubmit:n}),"initialized"===t?c.a.createElement("div",{className:"quote-box"},c.a.createElement("p",null,a.text),c.a.createElement("p",null,"- ".concat(a.author))):null))}}]),t}(n.Component),E=(a(29),a(30),a(31),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={show:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.showTimeout=setTimeout((function(){return e.setState({show:!0})}))}},{key:"componendWillUnmount",value:function(){clearTimeout(this.showTimeout)}},{key:"render",value:function(){var e=this.state.show,t=this.props,a=t.result,n=t.index;return c.a.createElement("a",{href:a.link,className:"result-item-link ".concat(e?"show":""),style:{transitionDelay:".".concat(3+n,"s")},target:"_blank"},c.a.createElement("div",{className:"result-item"},c.a.createElement("div",{className:"result-item-wrapper"},c.a.createElement("h1",{className:"result-title"},a.title),c.a.createElement("p",{className:"result-body"},a.body))))}}]),t}(n.Component)),k=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.results;return c.a.createElement("div",{className:"result-list"},c.a.createElement("ul",null,e.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(E,{index:t,result:e}))}))))}}]),t}(n.Component),A=(a(32),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={show:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.showTimeout=setTimeout((function(){return e.setState({show:!0})}))}},{key:"componentWillUnmount",value:function(){this.setState({show:!1}),clearTimeout(this.showTimeout)}},{key:"render",value:function(){var e=this.state.show;return c.a.createElement("div",{className:"result-list-loading"},c.a.createElement("ul",null,Array.from(Array(20),(function(t,a){return c.a.createElement("li",{key:a},c.a.createElement("div",{className:"result-list-loading-item ".concat(e?"show":"")}))}))))}}]),t}(n.Component)),O=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.results;return c.a.createElement("div",{className:"result-box"},e.length?c.a.createElement(k,{results:e}):c.a.createElement(A,null))}}]),t}(n.Component),w=(a(33),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pages,a=e.page,n=e.handlePageChange;return c.a.createElement("div",{className:"pagination"},c.a.createElement("ul",{className:"pagination-wrapper"},a>1?c.a.createElement("li",{className:"pagination-item"},c.a.createElement("span",{"data-page":a-1,onClick:n},"Previous")):null,Array.from(Array(Math.ceil(t)),(function(e,t){var i=t+1;return c.a.createElement("li",{className:"pagination-item ".concat(Number(a)===Number(i)?"is-active":""),key:i},c.a.createElement("span",{"data-page":i,onClick:n},i))})),a<t?c.a.createElement("li",{className:"pagination-item"},c.a.createElement("span",{"data-page":a+1,onClick:n},"Next")):null))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={keyword:"",mode:"initialized",error:null,results:[],cachedResults:[],page:1,pages:null,paginationLoading:!1,endOfPage:!1,quote:{text:"",author:""}},a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(h.a)(a)),a.handlePageChange=a.handlePageChange.bind(Object(h.a)(a)),a.fetchQuote=a.fetchQuote.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchQuote()}},{key:"handlePageChange",value:function(e){var t=this.state,a=t.cachedResults,n=t.page,c=Number(e.target.dataset.page);if(c!==n){var i=1===c?0:2===c?20:20*(c-1),r=i+20;this.setState({results:a.slice(i,r),page:c})}}},{key:"handleSearchSubmit",value:function(e){var t=this,a=this.state.keyword,n="https://en.wikipedia.org/w/api.php?action=opensearch&search=".concat(e,"&limit=max&format=json&origin=*");e!==a&&(this.setState({mode:"loading",results:[],cachedResults:[],page:1,pages:null}),fetch(n).then((function(e){return e.json()})).then((function(a){var n=a.slice(1),c=n[0].map((function(e,t){return{id:t+1,title:e,body:n[1][t],link:n[2][t]}}));t.setState({mode:"success",results:c.slice(0,20),cachedResults:c,keyword:e,pages:c.length/20})}),(function(a){console.error(a),t.setState({mode:"initialized",error:a,keyword:e})})))}},{key:"fetchQuote",value:function(){var e=this;fetch("https://quotes.rest/qod",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.contents.quotes[0];e.setState({quote:{text:a.quote,author:a.author}})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.mode,a=e.results,i=e.page,r=e.pages,l=e.quote;return c.a.createElement("div",{className:"wiki"},c.a.createElement("div",{className:"main"},c.a.createElement(v,{mode:t,quote:l,handleSearchSubmit:this.handleSearchSubmit}),c.a.createElement(b,null,"initialized"!==t?c.a.createElement(n.Fragment,null,c.a.createElement(O,{mode:t,results:a}),c.a.createElement(w,{pages:r,page:i,handlePageChange:this.handlePageChange})):null)))}}]),t}(n.Component);r.a.render(c.a.createElement(y,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.11fbcc7e.chunk.js.map