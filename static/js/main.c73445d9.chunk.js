(this.webpackJsonpwiki=this.webpackJsonpwiki||[]).push([[0],[,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),l=(a(14),a(1)),o=a(2),s=a(5),u=a(4),h=a(3),m=(a(15),a(16),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"container"},e)}}]),a}(n.Component)),p=(a(17),a(18),a(8)),d=a.n(p),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.mode;return r.a.createElement("header",{className:"header ".concat(e)},r.a.createElement(m,null,r.a.createElement("div",{className:"brand"},r.a.createElement("a",{href:"/"},"Wiki")),r.a.createElement("div",{className:"social"},r.a.createElement("a",{href:"https://github.com/rhojn/wiki-react",rel:"noreferrer noopener",target:"_blank"},r.a.createElement("img",{src:d.a,alt:"Github Mark"})))))}}]),a}(n.Component),v=(a(19),a(20),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.icon;return r.a.createElement("div",{className:"icon-wrapper"},r.a.createElement("span",{className:"".concat(e," icon")}))}}]),a}(n.Component)),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={keyword:""},n.handleFormSubmit=n.handleFormSubmit.bind(Object(s.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({keyword:t})}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t=this.state.keyword;t&&this.props.handleSearchSubmit(t)}},{key:"render",value:function(){var e=this.state.keyword;return r.a.createElement("div",{className:"search-box"},r.a.createElement("form",{className:"search-form",onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",name:"search",id:"search",placeholder:"Search the Wikipedia",value:e,onChange:this.handleInputChange}),r.a.createElement("button",{type:"submit"},r.a.createElement(v,{icon:"search"}))))}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.quote,n=e.handleSearchSubmit;return r.a.createElement("div",{className:"hero ".concat(t)},r.a.createElement(b,{mode:t}),r.a.createElement(m,null,"initialized"===t?r.a.createElement("div",{className:"hero-brand"},r.a.createElement("a",{href:"/"},"WIKI")):null,r.a.createElement(f,{handleSearchSubmit:n}),"initialized"===t?r.a.createElement("div",{className:"quote-box"},r.a.createElement("p",null,a.text),r.a.createElement("p",null,"- ".concat(a.author))):null))}}]),a}(n.Component),E=(a(21),a(22),a(23),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.showTimeout=setTimeout((function(){return e.setState({show:!0})}))}},{key:"componendWillUnmount",value:function(){clearTimeout(this.showTimeout)}},{key:"render",value:function(){var e=this.state.show,t=this.props,a=t.result,n=t.index;return r.a.createElement("a",{href:a.link,rel:"noopener noreferrer",className:"result-item-link ".concat(e?"show":""),style:{transitionDelay:".".concat(3+n,"s")},target:"_blank"},r.a.createElement("div",{className:"result-item"},r.a.createElement("div",{className:"result-item-wrapper"},r.a.createElement("h1",{className:"result-title"},a.title),r.a.createElement("p",{className:"result-body"},a.body))))}}]),a}(n.Component)),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.results;return r.a.createElement("div",{className:"result-list"},r.a.createElement("ul",null,e.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(E,{index:t,result:e}))}))))}}]),a}(n.Component),A=(a(24),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.showTimeout=setTimeout((function(){return e.setState({show:!0})}))}},{key:"componentWillUnmount",value:function(){this.setState({show:!1}),clearTimeout(this.showTimeout)}},{key:"render",value:function(){var e=this.state.show;return r.a.createElement("div",{className:"result-list-loading"},r.a.createElement("ul",null,Array.from(Array(20),(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("div",{className:"result-list-loading-item ".concat(e?"show":"")}))}))))}}]),a}(n.Component)),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.results;return r.a.createElement("div",{className:"result-box"},e.length?r.a.createElement(k,{results:e}):r.a.createElement(A,null))}}]),a}(n.Component),w=(a(25),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pages,a=e.page,n=e.handlePageChange;return r.a.createElement("div",{className:"pagination"},r.a.createElement("ul",{className:"pagination-wrapper"},a>1?r.a.createElement("li",{className:"pagination-item"},r.a.createElement("span",{"data-page":a-1,onClick:n},"Previous")):null,Array.from(Array(Math.ceil(t)),(function(e,t){var c=t+1;return r.a.createElement("li",{className:"pagination-item ".concat(Number(a)===Number(c)?"is-active":""),key:c},r.a.createElement("span",{"data-page":c,onClick:n},c))})),a<t?r.a.createElement("li",{className:"pagination-item"},r.a.createElement("span",{"data-page":a+1,onClick:n},"Next")):null))}}]),a}(n.Component)),O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={keyword:"",mode:"initialized",error:null,results:[],cachedResults:[],page:1,pages:null,paginationLoading:!1,endOfPage:!1,quote:{text:"",author:""}},n.handleSearchSubmit=n.handleSearchSubmit.bind(Object(s.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(s.a)(n)),n.fetchQuote=n.fetchQuote.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchQuote()}},{key:"handlePageChange",value:function(e){var t=this.state,a=t.cachedResults,n=t.page,r=Number(e.target.dataset.page);if(r!==n){var c=1===r?0:2===r?20:20*(r-1),i=c+20;this.setState({results:a.slice(c,i),page:r})}}},{key:"handleSearchSubmit",value:function(e){var t=this,a=this.state.keyword,n="https://en.wikipedia.org/w/api.php?action=opensearch&search=".concat(e,"&limit=max&format=json&origin=*");e!==a&&(this.setState({mode:"loading",results:[],cachedResults:[],page:1,pages:null}),fetch(n).then((function(e){return e.json()})).then((function(a){var n=a.slice(1),r=n[0].map((function(e,t){return{id:t+1,title:e,body:n[1][t],link:n[2][t]}}));t.setState({mode:"success",results:r.slice(0,20),cachedResults:r,keyword:e,pages:r.length/20})}),(function(a){console.error(a),t.setState({mode:"initialized",error:a,keyword:e})})))}},{key:"fetchQuote",value:function(){var e=this;fetch("https://quotes.rest/qod",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.contents.quotes[0];e.setState({quote:{text:a.quote,author:a.author}})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.mode,a=e.results,c=e.page,i=e.pages,l=e.quote;return r.a.createElement("div",{className:"wiki"},r.a.createElement("div",{className:"main"},r.a.createElement(g,{mode:t,quote:l,handleSearchSubmit:this.handleSearchSubmit}),r.a.createElement(m,null,"initialized"!==t?r.a.createElement(n.Fragment,null,r.a.createElement(j,{mode:t,results:a}),r.a.createElement(w,{pages:i,page:c,handlePageChange:this.handlePageChange})):null)))}}]),a}(n.Component);i.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.c73445d9.chunk.js.map